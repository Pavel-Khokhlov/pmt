class d{modal=null;slides=null;indicators=null;sliderContainer=null;currentSlide=0;touchStartX=0;touchEndX=0;touchStartY=0;touchEndY=0;minSwipeDistance=50;isSwiping=!1;wheelTimeout=null;wheelCooldown=500;wheelDeltaThreshold=30;$body=document.querySelector(".body");constructor(){this.initialize()}initialize(){if(this.modal=document.getElementById("modal-slider"),!this.modal){console.error("Modal element not found");return}this.slides=this.modal.querySelectorAll(".slider__slide"),this.indicators=this.modal.querySelectorAll(".slider__indicator"),this.sliderContainer=this.modal.querySelector(".slider__container"),this.bindEvents()}bindEvents(){if(!this.modal||!this.sliderContainer)return;const t=this.modal.querySelector(".modal__close"),i=this.modal.querySelector(".modal__overlay"),s=this.modal.querySelector(".slider__nav--prev"),o=this.modal.querySelector(".slider__nav--next");t?.addEventListener("click",()=>this.close()),i?.addEventListener("click",()=>this.close()),s?.addEventListener("click",()=>this.prevSlide()),o?.addEventListener("click",()=>this.nextSlide()),this.indicators?.forEach((e,h)=>{e.addEventListener("click",()=>this.goToSlide(h))}),this.sliderContainer.addEventListener("touchstart",e=>this.handleTouchStart(e)),this.sliderContainer.addEventListener("touchmove",e=>this.handleTouchMove(e)),this.sliderContainer.addEventListener("touchend",()=>this.handleTouchEnd()),this.sliderContainer.addEventListener("mousedown",e=>this.handleMouseDown(e)),this.sliderContainer.addEventListener("mousemove",e=>this.handleMouseMove(e)),this.sliderContainer.addEventListener("mouseup",()=>this.handleMouseUp()),this.sliderContainer.addEventListener("mouseleave",()=>this.handleMouseLeave()),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.modal?.classList.contains("active")?this.close():e.key==="ArrowLeft"?this.prevSlide():e.key==="ArrowRight"&&this.nextSlide()}),this.sliderContainer.addEventListener("wheel",e=>this.handleWheel(e),{passive:!1})}handleTouchStart(t){this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.isSwiping=!0}handleTouchMove(t){this.isSwiping&&(t.preventDefault(),this.touchEndX=t.touches[0].clientX,this.touchEndY=t.touches[0].clientY)}handleTouchEnd(){this.isSwiping&&(this.isSwiping=!1,this.handleSwipe())}handleMouseDown(t){this.touchStartX=t.clientX,this.touchStartY=t.clientY,this.isSwiping=!0}handleMouseMove(t){this.isSwiping&&(this.touchEndX=t.clientX,this.touchEndY=t.clientY)}handleMouseUp(){this.isSwiping&&(this.isSwiping=!1,this.handleSwipe())}handleMouseLeave(){this.isSwiping=!1}handleWheel(t){if(t.preventDefault(),this.wheelTimeout!==null)return;const s=Math.abs(t.deltaX)>Math.abs(t.deltaY)?t.deltaX:t.deltaY;Math.abs(s)<this.wheelDeltaThreshold||(s>0?this.nextSlide():this.prevSlide(),this.wheelTimeout=window.setTimeout(()=>{this.wheelTimeout=null},this.wheelCooldown))}handleSwipe(){if(!this.slides)return;const t=this.touchEndX-this.touchStartX,i=this.touchEndY-this.touchStartY;Math.abs(t)>Math.abs(i)&&Math.abs(t)>this.minSwipeDistance&&(t>0?this.prevSlide():this.nextSlide()),this.touchStartX=0,this.touchEndX=0,this.touchStartY=0,this.touchEndY=0}open(t=0){if((!this.modal||!this.slides)&&this.initialize(),!this.modal||!this.slides){console.error("Modal or slides not found");return}this.$body&&this.$body.classList.toggle("_unscroll");const i=this.slides.length;this.currentSlide=Math.max(0,Math.min(t,i-1)),this.updateSlider(),this.modal.classList.add("active"),this.modal.focus()}close(){this.modal&&(this.$body&&this.$body.classList.toggle("_unscroll"),this.modal.classList.remove("active"),document.body.style.overflow="")}nextSlide(){this.slides&&(this.currentSlide=(this.currentSlide+1)%this.slides.length,this.updateSlider())}prevSlide(){this.slides&&(this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length,this.updateSlider())}goToSlide(t){!this.slides||t<0||t>=this.slides.length||(this.currentSlide=t,this.updateSlider())}updateSlider(){this.slides?.forEach((t,i)=>{t.classList.toggle("active",i===this.currentSlide),t.style.transition="transform 0.3s ease";const s=(i-this.currentSlide)*100;t.style.transform=`translateX(${s}%)`}),this.indicators?.forEach((t,i)=>{t.classList.toggle("active",i===this.currentSlide)})}}let l=null;document.addEventListener("DOMContentLoaded",()=>{l=new d,document.querySelectorAll(".diploma").forEach(t=>{t.addEventListener("click",()=>{const i=t;console.log("Кнопка активирована",i.id);const s=Number(i.id)-1;l&&l.open(Number(s))})})});
